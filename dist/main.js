window.onload=function(){const e=document.querySelector(".box"),t=document.querySelector(".score"),o=document.querySelector(".time"),n=document.querySelector(".pause"),l=document.querySelector(".start"),r=document.querySelector(".restart"),a=document.querySelector(".gameover");let c=0,i=null,m=o.offsetWidth;console.log(m);let u=!0,s=[{top:"11%",left:"5.5%"},{top:"8%",left:"24.5%"},{top:"11%",left:"44.5%"},{top:"25.5%",left:"26.5%"},{top:"27%",left:"50%"},{top:"40%",left:"8.5%"},{top:"41%",left:"42.5%"}],h=-1,d=null,f=null,p=null;function I(){i=setInterval((function(){m--,o.style.width=m+"px",m<=0&&(clearInterval(i),r.style.display="block",a.style.display="block",clearInterval(d),alert("Game over!"))}),50)}function g(){d=setInterval((function(){!function(){let t=document.createElement("img");for(t.holeIndex=Math.floor(7*Math.random());t.holeIndex===h;)t.holeIndex=Math.floor(7*Math.random());h=t.holeIndex,t.style.top=s[t.holeIndex].top,t.style.left=s[t.holeIndex].left,t.who="";let o=Math.floor(10*Math.random());t.who=0===o?"s":1===o?"f":"m",console.log(`${t.who} is at hole ${t.holeIndex}`),e.appendChild(t);let n=0;f=setInterval((function(){"m"!==t.who&&"f"!==t.who||(t.src="../img/"+t.who+n+".png",n++,"m"===t.who&&n>1?(setTimeout((function(){}),80),t.mineIndex=Math.floor(7*Math.random()),t.src="../img/m1"+t.mineIndex+".png",clearInterval(f)):"f"===t.who&&n>1&&(setTimeout((function(){}),80),t.src="../img/f2.png",clearInterval(f)))}),80);let l=1;"m"===t.who?(w(t),setTimeout((function(){}),80),t.out=setTimeout((function(){p=setInterval((function(){t.src="../img/m"+l+".png",l--,l<0&&(clearInterval(p),clearInterval(t.out),e.removeChild(t))}),80)}),1e3)):"f"===t.who&&(l=2,t.out=setTimeout((function(){p=setInterval((function(){t.src="../img/"+t.who+l+".png",l--,l<0&&(clearInterval(p),clearInterval(t.out),e.removeChild(t))}),80)}),1e3),w(t))}()}),1e3)}function w(o){o.onclick=async function(){await async function(t){let o=document.createElement("img");o.style.top=s[t.holeIndex].top,o.style.left=s[t.holeIndex].left,e.appendChild(o),"m"===t.who?t.src="../img/m1"+t.mineIndex+".png":"f"===t.who&&(t.src="../img/f2.png");let n=0;whackTimer=setInterval((function(){o.src="../img/w"+n+".png",n++,2===n&&"m"===t.who||"s"===t.who?new Audio("../audio/whack.mp3").play():2===n&&"f"===t.who&&new Audio("../audio/wrong-whack.mp3").play(),n>5&&(clearInterval(whackTimer),e.removeChild(o),clearInterval(t.out),clearInterval(p),e.removeChild(t))}),80)}(o),"m"===o.who?(0===o.mineIndex&&(c+=5),c+=10):"f"===o.who&&(c-=10),t.innerHTML=c}}l.onclick=function(){this.style.display="None",n.style.display="block",I(),g()},n.onclick=function(){u?(clearInterval(i),clearInterval(d),this.style.backgroundImage="url(../img/restart.png)",u=!1):(I(),g(),this.style.backgroundImage="url(../img/pause.png)",gamestate=!0)}};
//# sourceMappingURL=main.js.map